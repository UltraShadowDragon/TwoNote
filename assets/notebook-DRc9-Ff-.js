import{i as g,g as f}from"./index-d0d29856-DYp9bw2V.js";import{g as p,r as s,a as d,c as m,u as b,s as h}from"./index.esm2017-CiUmkx34.js";const v={apiKey:"AIzaSyDLpohSUDg3EB_iNRbXLJhvBrhMyps8lBY",authDomain:"twonote-8563e.firebaseapp.com",databaseURL:"https://twonote-8563e-default-rtdb.firebaseio.com",projectId:"twonote-8563e",storageBucket:"twonote-8563e.appspot.com",messagingSenderId:"811618859430",appId:"1:811618859430:web:454c7b39bbf9239a00f767",measurementId:"G-J6YNSV8EJG"},u=g(v);f(u);const i=p(u),y=new URLSearchParams(window.location.search);var n=y.get("uuid"),r=localStorage.getItem("loggedIn");console.log(r);document.addEventListener("DOMContentLoaded",o=>{w(n),$("#editor").trumbowyg({btns:[["undo","redo"],["formatting"],["strong","em","del"],["fontfamily"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],plugins:{fontfamily:!0},svgPath:"#trumbowyg-icons"}),$("#editor").on("input",()=>{E()}),L()});function w(o){const t=s(i,"notebooks/"+o);d(m(t,"content")).then(e=>{e.exists()?$("#editor").trumbowyg("html",e.val()):console.log("No data available")}).catch(e=>{console.error(e)})}function E(){var o=$("#editor").html();console.log(o),b(s(i,"notebooks/"+n),{content:o}).catch(t=>{console.error("Error saving to the database:",t)})}$("h1").click(function(){window.location.replace("/index.html")});function L(){if(r===null){console.log("OH NO!");return}var o=r.replace(".","-");console.log(o);const t=s(i,"recentlyOpened/"+o);d(t).then(e=>{if(console.log("Snapshot:",e.val()),e.exists()){let a=e.val();console.log("Uuidarray:",a);let l=a.indexOf(n);l>=0&&a.splice(l,1),a.push(n),c(a)}else console.log("No data available"),c([n])}).catch(e=>{console.error("Error retrieving data:",e)})}function c(o){if(r!==null){var t=r.replace(".","-");console.log(t),h(s(i,"recentlyOpened/"+t),o).then(()=>{console.log("Saved")}).catch(e=>{console.error("Error saving to the database:",e)})}}
